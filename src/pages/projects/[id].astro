---
import Layout from '../../layouts/Layout.astro';
import { IMAGES } from '../../data/constants.js';

export function getStaticPaths() {
  return IMAGES.map(project => ({
    params: { id: project.id },
    props: { project }
  }));
}

const { project } = Astro.props;
---

<Layout title={project.title}>
  <div class="min-h-screen bg-white">
    <!-- Hero Image -->
    <div class="h-[60vh] w-full relative bg-slate-900">
      <img src={project.url} alt={project.title} class="w-full h-full object-cover opacity-80" />
      <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent"></div>

      <div class="absolute inset-0 flex flex-col justify-end p-8 md:p-16 max-w-7xl mx-auto">
        <nav class="flex items-center gap-2 text-sm font-bold uppercase tracking-widest text-wood-400 mb-6">
          <a href="/" class="hover:text-white transition-colors">Home</a>
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-slate-500">
            <path d="m9 18 6-6-6-6"/>
          </svg>
          <a href="/projects" class="hover:text-white transition-colors">Portfolio</a>
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-slate-500">
            <path d="m9 18 6-6-6-6"/>
          </svg>
          <span class="text-white truncate max-w-[200px]">{project.title}</span>
        </nav>
        <div class="flex flex-col gap-2">
          <span class="text-wood-500 font-bold uppercase tracking-[0.2em] text-sm bg-slate-900/50 w-fit px-2 py-1 backdrop-blur-sm border border-wood-500/30">{project.category} Build</span>
          <h1 class="text-5xl md:text-7xl font-serif font-bold text-white uppercase tracking-tighter leading-none">{project.title}</h1>
        </div>
      </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-16">

        <!-- Main Content -->
        <div class="lg:col-span-2 space-y-16">
          <div>
            <h2 class="text-3xl font-serif font-bold mb-6 text-slate-900 uppercase">Project Brief</h2>
            <p class="text-slate-700 text-xl leading-relaxed font-light border-l-4 border-slate-200 pl-6">
              {project.description || "A beautiful custom project tailored to the client's needs."}
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            {project.challenge && (
              <div class="bg-red-50/50 p-8 border-l-4 border-red-500">
                <div class="flex items-center gap-3 mb-4">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500">
                    <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"/>
                    <path d="M12 9v4"/>
                    <path d="M12 17h.01"/>
                  </svg>
                  <h3 class="font-bold text-slate-900 text-lg uppercase tracking-wider">The Challenge</h3>
                </div>
                <p class="text-slate-700 leading-relaxed">{project.challenge}</p>
              </div>
            )}

            {project.solution && (
              <div class="bg-green-50/50 p-8 border-l-4 border-green-600">
                <div class="flex items-center gap-3 mb-4">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <path d="m9 11 3 3L22 4"/>
                  </svg>
                  <h3 class="font-bold text-slate-900 text-lg uppercase tracking-wider">The Solution</h3>
                </div>
                <p class="text-slate-700 leading-relaxed">{project.solution}</p>
              </div>
            )}
          </div>
        </div>

        <!-- Sidebar Stats -->
        <div class="lg:col-span-1">
          <div class="bg-slate-50 border-2 border-slate-200 p-8 space-y-8 sticky top-24">
            <h3 class="font-serif font-bold text-2xl text-slate-900 uppercase border-b-2 border-slate-200 pb-4">Specs</h3>

            {project.location && (
              <div class="group">
                <div class="flex items-center gap-3 mb-1">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-wood-600">
                    <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
                    <circle cx="12" cy="10" r="3"/>
                  </svg>
                  <span class="text-xs uppercase text-slate-400 font-bold tracking-widest">Location</span>
                </div>
                <span class="text-slate-900 font-bold text-lg pl-8 block">{project.location}</span>
              </div>
            )}

            {project.completionDate && (
              <div class="group">
                <div class="flex items-center gap-3 mb-1">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-wood-600">
                    <path d="M8 2v4"/>
                    <path d="M16 2v4"/>
                    <rect width="18" height="18" x="3" y="4" rx="2"/>
                    <path d="M3 10h18"/>
                  </svg>
                  <span class="text-xs uppercase text-slate-400 font-bold tracking-widest">Completed</span>
                </div>
                <span class="text-slate-900 font-bold text-lg pl-8 block">{project.completionDate}</span>
              </div>
            )}

            {project.materials && (
              <div class="group">
                <div class="flex items-center gap-3 mb-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-wood-600">
                    <path d="m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"/>
                    <path d="m18 15 4-4"/>
                    <path d="m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"/>
                  </svg>
                  <span class="text-xs uppercase text-slate-400 font-bold tracking-widest">Materials Used</span>
                </div>
                <ul class="space-y-2 pl-8">
                  {project.materials.map((m) => (
                    <li class="text-slate-900 font-bold text-sm uppercase tracking-wide border-b border-slate-200 pb-1 last:border-0">{m}</li>
                  ))}
                </ul>
              </div>
            )}

            <div class="pt-4">
              <a href="/contact" class="block w-full py-4 bg-slate-900 hover:bg-wood-600 text-white text-center font-bold uppercase tracking-widest transition-colors shadow-lg">
                Get This Look
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>
